<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title> png 애니메이션 </title>
<script type="text/javascript" src="jquery-1.7.2.min.js"></script>

<style>
	div#ani {
		width:320px;
		height:240px;
		position:relative;
		background:url(img/bg.jpg); 
	}
	 
	div#ani img{
		position:absolute;
		display:none; 
	}
</style>
</head>

<body>

	<div id ="ani"></div>



	<!------------------------ jQuery 코드 ----------------------->
	<script>
		function imgArray(){
			for(var i = 0; i < 21; i++ ){
				var imgPath = '<img src="seq/seq' + i + '.png" />'
				$('#ani').append(imgPath)
			}
			$('#ani img:first').show();
		}
		
		imgArray();

		// 초기설정
		var count = 0;
		var timing; // setInterval 제어하기 위한 변수

		function nextFrame(){
			count++;
			if(count > 20){
				count = 20;
				clearInterval(timing);
			}
			$('#ani img:visible').hide();
			$('#ani img:eq(' + count + ')').show();
		}

		$('#ani').on('mouseenter',function(){
			if ( timing )  { clearInterval(timing) }
			timing = setInterval(nextFrame,100) 
		}).on('mouseleave',function(){
			if ( timing )  { clearInterval(timing) }
			timing = setInterval(prevFrame,100) 
		})

		function prevFrame(){
			count--;
			if(count < 0){
				count = 0
				clearInterval(timing);
			}
			$('#ani img:visible').hide();
			$('#ani img:eq(' + count + ')').show();
		}
	
	  
	</script>
	
	
	
	
	
	
</body>
</html>
